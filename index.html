<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>World Clock and Weather</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #121212;
            color: #ddd;
            margin: 0;
            padding: 20px;
            overflow: hidden;
        }
        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            align-items: flex-start;
        }
        .clock, .weather {
            background: #1e1e1e;
            border-radius: 8px;
            padding: 20px;
            margin: 10px;
            box-shadow: 0 0 15px rgba(0,0,0,0.5);
            width: 45%;
            min-width: 280px;
        }
        .time-zone {
            font-size: 1.5em;
            margin: 10px 0;
        }
        .date {
            font-size: 1.2em;
            margin: 10px 0;
        }
        .weather h3 {
            margin-top: 0;
        }
        .forecast {
            display: flex;
            justify-content: space-between;
        }
        .forecast img {
            width: 30px;
            height: 30px;
        }
        .highlight {
            font-weight: bold;
            color: #e74c3c;
        }
        /* Adjustments for smaller screen widths */
        @media (max-width: 1024px) {
            .container {
                flex-direction: column;
                align-items: center;
            }
            .clock, .weather {
                width: 80%;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <div class="clock">
        <h2>World Clock</h2>
        <div id="timezone1" class="time-zone">Hawaii: <span></span></div>
        <div id="timezone2" class="time-zone">Pacific: <span></span></div>
        <div id="timezone3" class="time-zone">Mountain: <span></span></div>
        <div id="timezone4" class="time-zone">Central: <span></span></div>
        <div id="timezone5" class="time-zone">Eastern: <span></span></div>
        <div id="timezone6" class="time-zone">CentralEuropean: <span></span></div>
        <div id="timezone6" class="time-zone">Japan: <span></span></div>
        <div id="current-date" class="date"></div>
    </div>

    <div class="weather">
        <h3>Weather</h3>
        <div id="current-weather"></div>
        <div class="forecast">
            <div id="hourly-forecast"></div>
            <div id="daily-forecast"></div>
        </div>
    </div>
</div>

<script>
// Time Zones
const timeZones = [
    { id: "timezone5", name: "Hawai'i", offset: -10 },
    { id: "timezone4", name: "Pacific", offset: -8 },
    { id: "timezone4", name: "Mountain", offset: -7 },
    { id: "timezone4", name: "Central", offset: -6 },
    { id: "timezone1", name: "Eastern", offset: -5 },
    { id: "timezone2", name: "Central European", offset: 1 },
    { id: "timezone3", name: "Japan", offset: 9 }
];

// Function to update time for all time zones
function updateTime() {
    const now = new Date();
    const dayOfWeek = now.toLocaleString('en-US', { weekday: 'long' });
    const day = now.getDate();
    const month = now.toLocaleString('en-US', { month: 'long' });
    const year = now.getFullYear();

    document.getElementById('current-date').textContent = `${dayOfWeek} ${month} ${day < 10 ? '0' + day : day}, ${year}`;

    timeZones.forEach(zone => {
        const time = new Date(now.getTime() + zone.offset * 60 * 60 * 1000);
        document.getElementById(zone.id).querySelector('span').textContent = time.toLocaleTimeString();
    });
}

// Weather API (replace with your API key)
const apiKey = "YOUR_API_KEY"; // Use your weather API key here
const city = "Chesterfield"; // City for weather
const units = "imperial"; // Temperature units (metric, imperial)

// Fetch weather data
function fetchWeather() {
    fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=${units}`)
        .then(response => response.json())
        .then(data => {
            const temp = data.main.temp;
            const description = data.weather[0].description;
            const icon = `https://openweathermap.org/img/wn/${data.weather[0].icon}.png`;

            document.getElementById('current-weather').innerHTML = `
                <p><strong>Current Temperature:</strong> ${temp}°C</p>
                <p><strong>Description:</strong> ${description}</p>
                <img src="${icon}" alt="${description}">
            `;
        })
        .catch(error => console.error("Error fetching weather:", error));
}

// Function to fetch hourly and daily forecast
function fetchForecast() {
    fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${city}&appid=${apiKey}&units=${units}`)
        .then(response => response.json())
        .then(data => {
            let hourlyHtml = "<h4>Next Few Hours:</h4><ul>";
            data.list.slice(0, 6).forEach(hour => {
                const time = new Date(hour.dt * 1000).toLocaleTimeString();
                const temp = hour.main.temp;
                const icon = `https://openweathermap.org/img/wn/${hour.weather[0].icon}.png`;
                hourlyHtml += `<li>${time}: ${temp}°C <img src="${icon}" alt="weather icon"></li>`;
            });
            hourlyHtml += "</ul>";
            document.getElementById('hourly-forecast').innerHTML = hourlyHtml;

            let dailyHtml = "<h4>Next Few Days:</h4><ul>";
            data.list.slice(0, 5).forEach(day => {
                const date = new Date(day.dt * 1000).toLocaleDateString();
                const temp = day.main.temp;
                const icon = `https://openweathermap.org/img/wn/${day.weather[0].icon}.png`;
                dailyHtml += `<li>${date}: ${temp}°C <img src="${icon}" alt="weather icon"></li>`;
            });
            dailyHtml += "</ul>";
            document.getElementById('daily-forecast').innerHTML = dailyHtml;
        })
        .catch(error => console.error("Error fetching forecast:", error));
}

// Update time every second
setInterval(updateTime, 1000);

// Load weather data
fetchWeather();
fetchForecast();
</script>

</body>
</html>
